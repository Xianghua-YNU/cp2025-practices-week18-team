
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [管晨曦] 

**学号：** [20221050118] 

**完成日期：** [2025/6/25]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
简要描述 Buffon 投针实验的原理，包括投针概率与 $\pi$ 的关系公式。
在一组等距平行线的平面上随机投掷一根长度为l的针，然后根据针与线相交的概率来估计 π 值。
pi_estimate = (2 * l * n_trials) / (n_hits * d)

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[LAPTOP-0KIMJLFA]
- CPU：[AMD Ryzen 5 5600H with Radeon Graphics]
- 内存：[16GB]

### 3.2 软件环境
- 操作系统：[Windows 11 家庭中文版]
- 编程语言：[Python]
- 开发工具：[PyCharm]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
详细描述实现投针实验模拟逻辑的步骤，可附上关键代码片段。
```python
    # 生成随机数
    x = np.random.uniform(0, d / 2, n_trials)  # 针的中心到最近线的距离
    theta = np.random.uniform(0, np.pi / 2, n_trials)  # 针与线的夹角

    # 判断相交条件
    intersections = x <= (l / 2) * np.sin(theta)
    n_hits = np.sum(intersections)

    # 计算 π 的估计值
    if n_hits == 0:
        return None, 0  # 避免除以零的情况
    pi_estimate = (2 * l * n_trials) / (n_hits * d)

    return pi_estimate, n_hits
```

### 4.2 实验次数设置
实验中设置的不同实验次数，100、1000、10000、100000 。

### 4.3 运行实验并记录结果
记录每次实验得到的 $\pi$ 估计值。
实验次数: 100
  相交次数: 34
  π 估计值: 2.941176
  绝对误差: 0.200416

实验次数: 1000
  相交次数: 317
  π 估计值: 3.154574
  绝对误差: 0.012981

实验次数: 10000
  相交次数: 3140
  π 估计值: 3.184713
  绝对误差: 0.043121

实验次数: 100000
  相交次数: 31780
  π 估计值: 3.146633
  绝对误差: 0.005040

实验次数: 1000000
  相交次数: 318601
  π 估计值: 3.138722
  绝对误差: 0.002871
## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | [2.941176]  |
| 1000     | [3.154574]  |
| 10000    | [3.184713]  |
| 100000   | [3.146633]  |

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。
![实验结果图表]([![capture_20250625100645162](https://github.com/user-attachments/assets/1ec9632d-7256-423e-8d70-707a187855e9)
])

## 六、结果分析
### 6.1 实验次数对估计精度的影响
分析随着实验次数的增加， $\pi$ 估计值的变化趋势，以及估计精度的变化情况。
随着实验次数的增加，$\pi$估计值逐渐向真实值靠近，且估计精度逐渐增大
### 6.2 误差来源分析
讨论实验中可能存在的误差来源，如随机数生成的质量、模拟逻辑的近似等。
随机数生成器 (RNG) 的质量直接影响实验的随机性。计算机生成的随机数实际上是伪随机数，由确定性算法生成，其随机性依赖于种子值和算法设计。
根据大数定律，实验次数越多，频率越接近概率。但实际实验中，无法进行无限次投针。
## 七、实验结论
总结实验结果，说明 Buffon 投针实验是否能够有效估计 $\pi$ 的值，以及实验次数对估计精度的影响是否符合预期。
Buffon 投针实验能够有效估计π的值，但其精度受实验次数限制。实验结果与大数定律预期一致，误差随实验次数增加而减小，验证了该方法的理论基础。对于需要高精度π值的场景，建议结合更高效的数值算法，但 Buffon 投针实验因其直观性和教学价值仍具有重要意义。


        
